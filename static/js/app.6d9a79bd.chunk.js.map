{"version":3,"sources":["components/Start.js","components/CustomActions.js","components/Chat.js","App.js","assets/backgroundImage.png","assets/usernameIcon.png"],"names":["backgroundImage","require","usernameIcon","colors","Start","props","changeBgColor","newColor","setState","bgColor","color1","color2","color3","color4","state","name","ImageBackground","source","resizeMode","style","styles","image","View","container","Text","title","box1","input","Image","inputText","onChangeText","value","this","placeholder","colorBox","colorTextBox","colorText","color","TouchableOpacity","onPress","button","buttonHeight","navigation","navigate","buttonText","React","Component","StyleSheet","create","flex","justifyContent","alignItems","marginBottom","backgroundColor","flexGrow","flexShrink","flexDirection","paddingTop","paddingBottom","borderRadius","height","minHeight","maxHeight","width","fontSize","fontWeight","marginLeft","borderColor","borderWidth","position","padding","margin","opacity","marginTop","marginRight","CustomActions","pickImage","a","async","ImagePicker","status","mediaTypes","Images","catch","error","console","result","cancelled","uploadImage","uri","imageUrl","onSend","takePhoto","All","Promise","resolve","reject","xhr","XMLHttpRequest","onload","response","onerror","e","log","TypeError","responseType","open","send","blob","imageNameBefore","split","imageName","length","ref","firebase","storage","child","put","snapshot","close","getDownloadURL","getLocation","Location","location","longitude","coords","latitude","onActionPress","options","cancelButtonIndex","context","actionSheet","showActionSheetWithOptions","buttonIndex","accessible","accessibilityLabel","accessibilityHint","wrapper","wrapperStyle","iconText","iconTextStyle","textAlign","contextTypes","PropTypes","func","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Chat","onCollectionUpdate","querySnapshot","messages","forEach","doc","data","push","_id","text","createdAt","toDate","user","avatar","saveMessages","renderCustomActions","uid","isConnected","apps","initializeApp","referenceChatMessages","firestore","collection","refMsgsUser","LogBox","ignoreLogs","route","params","setOptions","NetInfo","fetch","then","connection","unsubscribe","orderBy","onSnapshot","authUnsubscribe","auth","onAuthStateChanged","signInAnonymously","where","getMessages","AsyncStorage","getItem","JSON","parse","message","setItem","stringify","removeItem","add","previousState","GiftedChat","append","addMessages","right","textStyle","currentMessage","region","latitudeDelta","longitudeDelta","renderBubble","bind","renderInputToolbar","renderActions","renderCustomView","Platform","OS","KeyboardAvoidingView","behavior","Stack","createStackNavigator","HelloWorld","NavigationContainer","Navigator","initialRouteName","Screen","component","module","exports"],"mappings":"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","file":"static/js/app.6d9a79bd.chunk.js","sourcesContent":["import React from 'react';\r\nimport { View, Text, StyleSheet, ImageBackground, Image, TouchableOpacity } from 'react-native';\r\nimport { TextInput } from 'react-native-gesture-handler';\r\n\r\nconst backgroundImage = require('../assets/backgroundImage.png');\r\nconst usernameIcon = require('../assets/usernameIcon.png');\r\n//background color choices\r\nconst colors = {\r\n  color1: '#090C08',\r\n  color2: '#474056',\r\n  color3: '#8A95A5',\r\n  color4: '#B9C6AE',\r\n};\r\n\r\nexport default class Start extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \r\n        name: '',\r\n        bgColor: ''\r\n    };\r\n}\r\n\r\nchangeBgColor = (newColor) => {\r\n  this.setState({ bgColor: newColor });\r\n};\r\n\r\n//background color choices\r\ncolors = {\r\n  color1: '#090C08',\r\n  color2: '#474056',\r\n  color3: '#8A95A5',\r\n  color4: '#B9C6AE',\r\n};\r\n\r\n  render() {\r\n    return (\r\n      <ImageBackground source={backgroundImage} resizeMode='cover' style={styles.image}>\r\n\r\n        <View style={styles.container}>\r\n\r\n          <Text style={styles.title}>ChatApp</Text>\r\n\r\n          <View style={styles.box1}>\r\n\r\n          <View style={styles.input}>\r\n          \r\n          <Image source={usernameIcon} style={styles.usernameIcon}/>\r\n          <TextInput style={styles.inputText} onChangeText={(name) => this.setState({name})} value={this.state.name} placeholder='Your Username' />\r\n          </View>\r\n\r\n          <View style={styles.colorBox}>\r\n            <View style={styles.colorTextBox}>\r\n            <Text style={styles.colorText}>Choose Background Color:</Text>\r\n\r\n            <View style={styles.color}>\r\n            <TouchableOpacity title='' color={colors.color1}  style={styles.color1} onPress={() => this.changeBgColor(colors.color1)}></TouchableOpacity>\r\n            <TouchableOpacity style={styles.color2}  onPress={() => this.changeBgColor(colors.color2)}></TouchableOpacity>\r\n            <TouchableOpacity TouchableOpacity style={styles.color3} onPress={() => this.changeBgColor(colors.color3)}></TouchableOpacity>\r\n            <TouchableOpacity style={styles.color4} onPress={() => this.changeBgColor(colors.color4)}></TouchableOpacity>\r\n            </View>\r\n            </View>\r\n\r\n            <View style={styles.button}>\r\n            <TouchableOpacity style={styles.buttonHeight} onPress={() => this.props.navigation.navigate('Chat', { name: this.state.name, bgColor: this.state.bgColor } )}><Text style={styles.buttonText}>Start Chatting</Text></TouchableOpacity>\r\n            </View>\r\n\r\n          </View>\r\n          </View>\r\n        </View>\r\n      </ImageBackground>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex:1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n\r\n  box1: {\r\n    marginBottom: 30,\r\n    backgroundColor: \"white\",\r\n    flexGrow: 1,\r\n    flexShrink: 0,\r\n    flexDirection: \"column\",\r\n    justifyContent: \"space-evenly\",\r\n    alignItems: \"center\",\r\n    paddingTop: 15,\r\n    paddingBottom: 15,\r\n    borderRadius: 10,\r\n    height: 260,\r\n    minHeight: 260,\r\n    maxHeight: 300,\r\n    height: \"44%\",\r\n    width: \"88%\"\r\n},\r\n\r\n  title: {\r\n    fontSize: 45,\r\n    fontWeight: '700',\r\n    color: '#fff',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginBottom: 50,\r\n  },\r\n\r\n  image: {\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n\r\n  button: {\r\n    height: 70,\r\n    width: '88%',\r\n    marginBottom: -15,\r\n    marginLeft: 15,\r\n  },\r\n\r\n  buttonHeight: { \r\n    backgroundColor: '#757083',\r\n    height: 50, \r\n    width: '100%',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-evenly',\r\n  },\r\n\r\n  buttonText: {\r\n    color: '#FFF',\r\n    fontSize: 16,\r\n    fontWeight: '700',\r\n  },\r\n\r\n  input: {\r\n    alignItems: 'flex-start',\r\n    flexDirection: 'row',\r\n    height: 60,\r\n    width: '88%',\r\n    borderColor: '#757083',\r\n    borderWidth: 1,\r\n    position: 'relative',\r\n  },\r\n\r\n  usernameIcon: {\r\n    padding: 10,\r\n    margin: 20,\r\n    height: 20,\r\n    width: 20,\r\n    resizeMode: 'stretch',\r\n    alignItems: 'center',\r\n    opacity: 0.5\r\n  },\r\n\r\n  inputText: {\r\n    marginTop: 15,\r\n    marginLeft: 3,\r\n    opacity: .5,\r\n    fontSize: 16,\r\n    fontWeight: '300',\r\n    color: '#757083',\r\n  },\r\n\r\n  colorText: {\r\n    color: '#757083',\r\n    fontWeight: '300',\r\n    fontSize: 16,\r\n    opacity: 1,\r\n    padding: 5,\r\n  },\r\n\r\n  colorTextBox: {\r\n    alignItems: 'stretch',\r\n    width: '88%',\r\n    justifyContent: 'space-between',\r\n    padding: 10,\r\n  },\r\n\r\n  color: { \r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 25, \r\n    marginRight: 10,\r\n    marginLeft: 0,\r\n    width: 250,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    flexShrink: 0,\r\n    alignItems: \"flex-start\",\r\n    flexShrink:0,\r\n  },\r\n\r\n  color1: {\r\n   backgroundColor: '#090C08',\r\n   width: 50,\r\n   height: 50,\r\n   borderRadius: 25,\r\n   borderColor:'#090C08',\r\n  },\r\n\r\n  color2: {\r\n   backgroundColor: '#474056',\r\n   width: 50,\r\n    height: 50,\r\n    borderRadius: 25, \r\n  },\r\n\r\n color3: {\r\n   backgroundColor: '#8A95A5',\r\n   width: 50,\r\n    height: 50,\r\n    borderRadius: 25, \r\n  },\r\n\r\n color4: {\r\n   backgroundColor: '#B9C6AE',\r\n   width: 50,\r\n    height: 50,\r\n    borderRadius: 25, \r\n  },\r\n\r\n colorBox: {\r\n   width: '88%',\r\n   height: 100,\r\n   justifyContent: 'center',\r\n   alignItems: 'center', \r\n   position: 'relative',\r\n   marginRight: 40,\r\n  },\r\n\r\n});","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { TouchableOpacity, View, Text, StyleSheet } from \"react-native\";\r\nimport * as Permissions from 'expo-permissions';\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport * as Location from \"expo-location\";\r\nimport MapView from 'react-native-maps';\r\nimport firebase from \"firebase\";\r\nimport \"firebase/firestore\";\r\n\r\n// component for user actions (the '+' button) on message composer \r\nexport default class CustomActions extends React.Component {\r\n \r\n\r\n  // choose an image from device's gallery to send\r\n  pickImage = async () => {\r\n    // permission to access the user device's gallery\r\n    const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n    try {\r\n      if (status === \"granted\") {\r\n        let result = await ImagePicker.launchImageLibraryAsync({\r\n          mediaTypes: ImagePicker.MediaTypeOptions.Images, \r\n        }).catch((error) => {\r\n          console.error(error);\r\n        });\r\n        if (!result.cancelled) {\r\n          const imageUrl = await this.uploadImage(result.uri);\r\n          this.props.onSend({ image: imageUrl });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  // Take a photo with the device's camera to send\r\n  takePhoto = async () => {\r\n    // permission to access user camera\r\n    const { status } = await ImagePicker.requestCameraPermissionsAsync();\r\n    try {\r\n      if (status === \"granted\") {\r\n        let result = await ImagePicker.launchCameraAsync({\r\n          mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n        }).catch((error) => {\r\n          console.error(error);\r\n        });\r\n        if (!result.cancelled) {\r\n          const imageUrl = await this.uploadImage(result.uri);\r\n          this.props.onSend({ image: imageUrl });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  // Upload an image to Firestore\r\n  uploadImage = async (uri) => {\r\n    const blob = await new Promise((resolve, reject) => {\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.onload = function () {\r\n        resolve(xhr.response);\r\n      };\r\n      xhr.onerror = function (e) {\r\n        console.log(e);\r\n        reject(new TypeError(\"Network request failed\"));\r\n      };\r\n      xhr.responseType = \"blob\";\r\n      xhr.open(\"GET\", uri, true);\r\n      xhr.send(null);\r\n    });\r\n\r\n    const imageNameBefore = uri.split(\"/\");\r\n    const imageName = imageNameBefore[imageNameBefore.length - 1];\r\n\r\n    const ref = firebase.storage().ref().child(`images/${imageName}`);\r\n\r\n    const snapshot = await ref.put(blob);\r\n\r\n    blob.close();\r\n\r\n    return await snapshot.ref.getDownloadURL();\r\n  };\r\n\r\n  // Access and send the user's location\r\n  getLocation = async () => {\r\n    // permission to access user location while the app is in the foreground\r\n    const { status } = await Location.requestForegroundPermissionsAsync();\r\n    try {\r\n      if (status === \"granted\") {\r\n        let result = await Location.getCurrentPositionAsync({}).catch(\r\n          (error) => {\r\n            console.error(error);\r\n          }\r\n        );\r\n        // Send latitude and longitude to locate the position on the map\r\n        if (result) {\r\n          this.props.onSend({\r\n            location: {\r\n              longitude: result.coords.longitude,\r\n              latitude: result.coords.latitude,\r\n            },\r\n          });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  // Handling all communication features\r\n  onActionPress = () => {\r\n    const options = [\r\n      \"Choose From Library\",\r\n      \"Take Picture\",\r\n      \"Send Location\",\r\n      \"Cancel\",\r\n    ];\r\n    const cancelButtonIndex = options.length - 1;\r\n    this.context.actionSheet().showActionSheetWithOptions(\r\n      {\r\n        options,\r\n        cancelButtonIndex,\r\n      },\r\n      async (buttonIndex) => {\r\n        switch (buttonIndex) {\r\n          case 0:\r\n            console.log(\"user wants to pick an image\");\r\n            return this.pickImage();\r\n          case 1:\r\n            console.log(\"user wants to take a photo\");\r\n            return this.takePhoto();\r\n          case 2:\r\n            console.log(\"user wants to get their location\");\r\n            return this.getLocation();\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <TouchableOpacity\r\n        accessible={true}\r\n        accessibilityLabel=\"More options\"\r\n        accessibilityHint=\"Let’s you choose to send an image or your geolocation.\"\r\n        style={[styles.container]}\r\n        onPress={this.onActionPress}\r\n      >\r\n        <View style={[styles.wrapper, this.props.wrapperStyle]}>\r\n          <Text style={[styles.iconText, this.props.iconTextStyle]}>+</Text>\r\n        </View>\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    width: 26,\r\n    height: 26,\r\n    marginLeft: 10,\r\n    marginBottom: 10,\r\n  },\r\n  wrapper: {\r\n    borderRadius: 13,\r\n    borderColor: \"#b2b2b2\",\r\n    borderWidth: 2,\r\n    flex: 1,\r\n  },\r\n  iconText: {\r\n    color: \"#b2b2b2\",\r\n    fontWeight: \"bold\",\r\n    fontSize: 16,\r\n    backgroundColor: \"transparent\",\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n\r\nCustomActions.contextTypes = {\r\n    actionSheet: PropTypes.func,\r\n  };","import React from 'react';\r\nimport { View, StyleSheet, KeyboardAvoidingView, Platform, LogBox} from 'react-native';\r\nimport { Bubble, GiftedChat, InputToolbar } from 'react-native-gifted-chat';\r\nimport { AsyncStorage } from 'react-native';\r\nimport NetInfo from '@react-native-community/netinfo';\r\nimport CustomActions from './CustomActions';\r\nimport * as Location from 'expo-location';\r\nimport MapView from 'react-native-maps';\r\n\r\nconst firebase = require('firebase');\r\nrequire('firebase/firestore');\r\n// Firebase config for the app\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAaCpkI74xxLxdrDNZCIuQrDwEeDBT2Y9c\",\r\n  authDomain: \"chat-app-c58e8.firebaseapp.com\",\r\n  databaseURL: \"https://chat-app-c58e8-default-rtdb.firebaseio.com\",\r\n  projectId: \"chat-app-c58e8\",\r\n  storageBucket: \"chat-app-c58e8.appspot.com\",\r\n  messagingSenderId: \"366013209951\",\r\n  appId: \"1:366013209951:web:76d07df3dc6454e00c2aea\",\r\n  measurementId: \"G-6B58C8Q8LF\"\r\n};\r\n\r\nexport default class Chat extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      messages: [],\r\n      uid: 0,\r\n      user: {\r\n        _id: '',\r\n        name: '',\r\n        avatar: '',\r\n      },\r\n      isConnected: false,\r\n      image: null,\r\n      location: null,\r\n    };\r\n\r\n    // Initializing firebase\r\n    if (!firebase.apps.length){\r\n      firebase.initializeApp(firebaseConfig);\r\n    }\r\n\r\n    // Reference to the Firestore messages collection\r\n    this.referenceChatMessages = firebase.firestore().collection('messages');\r\n    this.refMsgsUser = null;\r\n\r\n         // To remove warning message in the console \r\n         LogBox.ignoreLogs([\r\n          'Setting a timer',\r\n          'Warning: ...',\r\n          'undefined',\r\n          'Animated.event now requires a second argument for options',\r\n        ]);\r\n  };\r\n\r\n  componentDidMount() {\r\n    let name = this.props.route.params.name;\r\n    this.props.navigation.setOptions({ title: name });\r\n\r\n    // Checks if user is online or offline\r\n    NetInfo.fetch().then(connection => {\r\n      if (connection.isConnected) {\r\n        this.setState({ isConnected: true });\r\n        console.log('online');\r\n\r\n         // Listens for updates in the collection\r\n         this.unsubscribe = this.referenceChatMessages\r\n         .orderBy(\"createdAt\", \"desc\")\r\n         .onSnapshot(this.onCollectionUpdate)\r\n\r\n        // User authentication performed first\r\n        this.authUnsubscribe = firebase.auth().onAuthStateChanged(async (user) => {\r\n          if (!user) {\r\n            return await firebase.auth().signInAnonymously();\r\n          }\r\n          // Update user state with currently active user data\r\n          this.setState({\r\n            uid: user.uid,\r\n            messages: [],\r\n            user: {\r\n              _id: user.uid,\r\n              name: name,\r\n              avatar: \"https://placeimg.com/140/140/any\",\r\n            },\r\n          });\r\n          // Referencing messages of current user\r\n          this.refMsgsUser = firebase\r\n            .firestore()\r\n            .collection(\"messages\")\r\n            .where(\"uid\", \"==\", this.state.uid);\r\n        });\r\n         // Saving messages locally to asyncStorage\r\n         this.saveMessages();\r\n      } else {\r\n        // When user is offline\r\n        console.log('offline');\r\n        this.setState({ isConnected: false });\r\n        // Get messages from asyncStorage\r\n        this.getMessages();\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n    // When updated, set the messages state with the current data\r\n    onCollectionUpdate = (querySnapshot) => {\r\n      const messages = [];\r\n      // Go through each document\r\n      querySnapshot.forEach((doc) => {\r\n        // Get the QueryDocumentSnapshot's data\r\n        let data = doc.data();\r\n        messages.push({\r\n          _id: data._id,\r\n          text: data.text,\r\n          createdAt: data.createdAt.toDate(),\r\n          user: {\r\n            _id: data.user._id,\r\n            name: data.user.name,\r\n            avatar: data.user.avatar\r\n          },\r\n          image: data.image || null,\r\n          location: data.location || null,\r\n        });\r\n      });\r\n      this.setState({\r\n        messages: messages\r\n      });\r\n          this.saveMessages()\r\n    };\r\n\r\n    componentWillUnmount() {\r\n      // stop listening\r\n      if (this.state.isConnected) {\r\n        this.authUnsubscribe();\r\n        this.unsubscribe();\r\n      }\r\n    }\r\n\r\n  // To get message on sync storage\r\n  async getMessages() {\r\n    let messages = '';\r\n    try {\r\n      messages = await AsyncStorage.getItem('messages') || [];\r\n      this.setState({\r\n        messages: JSON.parse(messages)\r\n      });\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  // To save message on async storage\r\n  async saveMessages() {\r\n    try {\r\n      await AsyncStorage.setItem('messages', JSON.stringify(this.state.messages));\r\n    } catch (error) {\r\n    console.log(error.message);\r\n    }\r\n  }\r\n\r\n  // To delete message from async storage\r\n  async deleteMessages() {\r\n    try {\r\n      await AsyncStorage.removeItem('messages');\r\n      this.setState({\r\n        messages: []\r\n      })\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  }\r\n\r\n  // Add messages to database\r\n  addMessages() { \r\n    const message = this.state.messages[0];\r\n    // add a new messages to the collection\r\n    this.referenceChatMessages.add({\r\n      _id: message._id,\r\n      text: message.text || \"\",\r\n      createdAt: message.createdAt,\r\n      user: this.state.user,\r\n      image: message.image || \"\",\r\n      location: message.location || null,\r\n    });\r\n  }\r\n\r\n  onSend(messages = []) {\r\n    this.setState((previousState) => ({\r\n      messages: GiftedChat.append(previousState.messages, messages),\r\n    }), () => {\r\n      this.addMessages();\r\n      this.saveMessages();\r\n    })\r\n  };\r\n\r\n\r\n\r\n  renderBubble(props) {\r\n    return(\r\n      <Bubble\r\n      {...props}\r\n      wrapperStyle={{\r\n        right: {\r\n          backgroundColor: '#000'\r\n        }\r\n      }}\r\n      textStyle={{\r\n        right: {\r\n          color: '#fff'\r\n        }\r\n      }}\r\n      />\r\n    )\r\n  }\r\n\r\n    // Hide texting when offline\r\n    renderInputToolbar(props) {\r\n      if (this.state.isConnected == false) {\r\n      } else {\r\n        return <InputToolbar {...props} />;\r\n      }\r\n    }\r\n\r\n    // To access CustomActions\r\n    renderCustomActions = (props) => {\r\n      return <CustomActions {...props} />;\r\n    };\r\n\r\n    // Return a MapView when surrentMessage contains location data\r\n      renderCustomView (props) {\r\n        const { currentMessage} = props;\r\n          if (currentMessage.location) {\r\n            return (\r\n              <MapView\r\n                style={{width: 300,\r\n                height: 200,\r\n                borderRadius: 13,\r\n                margin: 3}}\r\n                region={{\r\n                latitude: currentMessage.location.latitude,\r\n                longitude: currentMessage.location.longitude,\r\n                latitudeDelta: 0.0922,\r\n                longitudeDelta: 0.0421,\r\n                }}\r\n              />\r\n            );\r\n          }\r\n        return null;\r\n      }\r\n\r\n      render() {\r\n        let bgColor = this.props.route.params.bgColor;\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n      <View style={{...styles.container, backgroundColor: bgColor}}>\r\n      <GiftedChat\r\n      renderBubble={this.renderBubble.bind(this)}\r\n      messages={this.state.messages}\r\n      onSend={messages => this.onSend(messages)}\r\n      renderInputToolbar={this.renderInputToolbar.bind(this)}\r\n      renderActions={this.renderCustomActions}\r\n      renderCustomView={this.renderCustomView}\r\n      user={{\r\n        _id: this.state.user._id,\r\n        name: this.state.user.name,\r\n        avatar: this.state.user.avatar\r\n      }}\r\n      />\r\n      { Platform.OS === 'android' ? <KeyboardAvoidingView behavior=\"height\" /> : null}\r\n      </View>\r\n      </View>\r\n    )\r\n  }\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex:1,\r\n  },\r\n\r\n})\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, TextInput, Text, Alert, Button, ScrollView } from 'react-native';\r\n\r\n// import the screens\r\nimport Start from './components/Start';\r\nimport Chat from './components/Chat';\r\n\r\n// import react native gesture handler\r\nimport 'react-native-gesture-handler';\r\n\r\n// import react Navigation\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createStackNavigator } from '@react-navigation/stack';\r\n\r\n// Create the navigator\r\nconst Stack = createStackNavigator();\r\n\r\nexport default class HelloWorld extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <NavigationContainer>\r\n      <Stack.Navigator initialRouteName='Start'>\r\n        <Stack.Screen name='Start' component={Start} />\r\n        <Stack.Screen name='Chat' component={Chat} />\r\n      </Stack.Navigator>\r\n    </NavigationContainer>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  }\r\n});","module.exports = __webpack_public_path__ + \"static/media/backgroundImage.91b21903.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAMAAACnUt2HAAAA21BMVEUAAAAAAP+AgIBVVapxcY6AZoBxcYB5a4Zzc4B5bYZ0dIB2bYB4cYB1bYNzc4Z2cINzb4J2cYRzb4R1cYJ2coF1cYN3b4F0cYR2b4N0cYR2cIN0cYR2cIN0cYJ1b4R0b4J1cIJ0b4N0b4N2cYJ1cIR2b4N0cIN2cIN0cIN1b4J0cYN1b4N1cIN1b4R1cIR1cIR1b4J1cIN1cIJ1cYN1cIN1cIR1cIN1cIN2cIN0cIN1cIN1cIN1cIN1cIN1cYN1cIN1cIN1cIN2cIN1b4N1cIN1cIN1cIN1cIP///8+6D+xAAAASHRSTlMAAQIDCQoSExQVFhwiIygpNTY+P0FGR01OT1BRUlZXXGBjZWZ0dX2EhoeIjpCXmZ2ur7Kzubq7wMHDxMjJ2N7g4eXm5+jp6/Hsh4NzAAAAAWJLR0RI8ALU6gAAAKFJREFUGBmFwWcXQmAABtCnKKS9qJQUbZTR3kP//x/lOE54+9C9+OJ5kHrn2/3cRYJyKgOVUx8xmWcRvtKDRqS+Q2BfQ6TpIOA0EGE8Fj7OyyJm6rIAtx4jjpq9bPs1oZCUEwUO/zHiSLcsfSRkEUp33PdSFapVQVu9nXYKvsJxI9II0a3tIQ/krgoSBhcO2hyEhQpDBkE2YJhDgmlAmv2QPpmGE9X+GpHGAAAAAElFTkSuQmCC\""],"sourceRoot":""}